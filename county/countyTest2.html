
<html>
	<head>
		<style>
			body{background-color: White;}
			h1   {color: DarkGrey;}
			p    {color: Black;}
			button{
  			margin:auto;
  			display:block;
		}
		</style>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
		<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>

		<script type="text/javascript" src="test.js"></script>

		<script>
		
			var DensityInfo = {
		"Demand Density": {
			"SO2": [],
			"PM10" : [],
			"PM25": [],
			"NO2": []
			},
		"CurrentSupply Density":{
			"SO2": [],
			"PM10" : [],
			"PM25": [],
			"NO2": []
			},
		"PotentialSupply Density":{
			"SO2": [],
			"PM10" : [],
			"PM25": [],
			"NO2": []
			},
		}	
		
		

			var vegetationLandEmissionInfo = {
		"Canopy Sequestration": {
			"Rural": {
			"SO2": [],
			"PM10": [],
			"PM25": [],
			"NO2": []
		},
		"Urban": {
			"SO2": [],
			"PM10": [],
			"PM25": [],
			"NO2": []
		}
	},
	"Grassland Sequestration": {
		"Rural": {
			"SO2": [],
			"PM10": [],
			"PM25": [],
			"NO2": []
		},
		"Urban": {
			"NO2": [],
			"SO2": [],
			"PM10": [],
			"PM25": []
		}
	},
	"Shrubland Sequestration": {
		"Rural": {
			"SO2": [],
			"PM10": [],
			"PM25": [],
			"NO2": []
		},
		"Urban": {
			"SO2": [],
			"PM10": [],
			"PM25": [],
			"NO2": []
		}
	}
}



	
	window.onload = function () {
	//Get html elements
	var densitySelection = document.getElementById("densitySelection");
	var densityemissionsSelection = document.getElementById("densityemissionsSelection");
	var sequestrationSelection = document.getElementById("sequestrationSelection");
	var ruralurbanSelection = document.getElementById("ruralurbanSelection");	
	var emissionSelection = document.getElementById("emissionSelection");
	
	
	//Load Densities
	for (var density in DensityInfo) {
		densitySelection.options[densitySelection.options.length] = new Option(density,density);
		}
		
	// density Changed
	densitySelection.onchange = function() {
		densityemissionsSelection.length = 1; // remove all options bar first
	
		if (this.selectedIndex < 1)
			 return; // done

		for (var emission in DensityInfo[this.value]) {
			 densityemissionsSelection.options[densityemissionsSelection.options.length] = new Option(emission, emission);
	
			}
		}	
		
	
	//Load Vegetations
	for (var vegetation in vegetationLandEmissionInfo) {
		sequestrationSelection.options[sequestrationSelection.options.length] = new Option(vegetation, vegetation);
	}
	
	//vegetation Changed
	sequestrationSelection.onchange = function () {
		 
		 ruralurbanSelection.length = 1; // remove all options bar first
		 emissionSelection.length = 1; // remove all options bar first
		 //zipSel.length = 1; // remove all options bar first
		 
		 if (this.selectedIndex < 1)
			 return; // done
		 
		 for (var ruralurban in vegetationLandEmissionInfo[this.value]) {
			 ruralurbanSelection.options[ruralurbanSelection.options.length] = new Option(ruralurban, ruralurban);
		 }
	}
	
	//ruralurban Changed
	ruralurbanSelection.onchange = function () {		 
		 
		 emissionSelection.length = 1; // remove all options bar first
		 //zipSel.length = 1; // remove all options bar first
		 
		 if (this.selectedIndex < 1)
			 return; // done
		 
		 for (var emission in vegetationLandEmissionInfo[sequestrationSelection.value][this.value]) {
			 emissionSelection.options[emissionSelection.options.length] = new Option(emission, emission);
		 }
	}
	
	
	
	
	
/*	//City Changed
	emissionSelection.onchange = function () {
		zipSel.length = 1; // remove all options bar first
		
		if (this.selectedIndex < 1)
			return; // done
		
		var zips = countryStateInfo[sequestrationSelection.value][ruralurbanSelection.value][this.value];
		for (var i = 0; i < zips.length; i++) {
			zipSel.options[zipSel.options.length] = new Option(zips[i], zips[i]);
		}
	}
	*/	
}


function redirectToDensity() {
// Demand density
	var density = document.getElementById("densitySelection").value;
	var density_first_word = density.substr(0,density.indexOf(' '));
	var density_second_word = density.substr(1,density.indexOf(' '));
	
	var densityemissionsSelection = document.getElementById("densityemissionsSelection").value;
	
	alert ("Redirecting to" + density_first_word + density_second_word + densityemissionsSelection);
	
	var redirect_page_string = density_first_word + density_second_word.trim() + densityemissionsSelection
	window.location = './'+redirect_page_string + '.html'
}

function redirectToSpecificPage() {
	// Sequestration information
	var vegetation = document.getElementById("sequestrationSelection").value;
	var vegetation_first_word = vegetation.substr(0, vegetation.indexOf(' '));

	var urbanrural = document.getElementById("ruralurbanSelection").value;
	var emission = document.getElementById("emissionSelection").value;

	alert("Redirecting to " + urbanrural + vegetation_first_word + emission);

	var redirect_page_string = urbanrural + vegetation_first_word + emission
    window.location = './'+redirect_page_string + '.html'

	
}




function redirectToFips() {

	window.location = './FIPS2.html'

}
		</script>		
		
   </head>
<body>
 
  <h1>Interactive Map of Air Quality Regulation Ecosystem Service Supply and Demand</h1>

	<p> This website contains county-level information on air quality regulation ecosystem service demand generated by emissions of criteria air pollutants from various sources and air quality regulation ecosystem service supply provided by vegetation (canopy, grasslands and shrublands).</p>

	<p> Density Maps <p>
	<form name = "density" id="density">
		<select id="densitySelection" size="1">
			<option value = "" selected = "selected"> --Select Density Type --</option>
		</select>
		 <br>
		<br>
		<select id="densityemissionsSelection" size = "1">
			<option value="" selected="selected"> --Select Pollutant--</option>
		</select>
			<br>
		<br>	
	
	</form>
	
	<input type="button" onclick="redirectToDensity()" value="Get Map"></input>
	
	<p> Vegetation Sequestration Maps <p>
	<form name="myform" id="myForm">
	  	<select id="sequestrationSelection" size="1">
	        <option value="" selected="selected">-- Select Vegetation --</option>
	    </select>
	     <br>
	    <br>
	  
	    <select id="ruralurbanSelection" size="1">
	        <option value="" selected="selected">-- Select Urban/Rural--</option>
	    </select>
	    <br>
	    <br>    
	    <select id="emissionSelection" size="1">
	        <option value="" selected="selected">-- Select Pollutant--</option>
	    </select>
	    <br>
	    <br>
    <!--<select id="zipSel" size="1">
        <option value="" selected="selected"> Select Zip</option>
    </select>
    -->
	</form>

	<input type="button" onclick="redirectToSpecificPage()" value="Get Map"></input>

	<br><br><br><br>
	<div class="wrapper">
    <button class="button" onclick="redirectToFips()">CLICK HERE FOR FIPS CODE MAP!</button>

</div>
	
</body>
	
	
	
</html>
